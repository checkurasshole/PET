local function runAntiKick()
    local s, e = pcall(function()
        local services = {
            'CookiesService',
            'AdService', 
            'BadgeService',
            'GamepadService', 
            'AnimationFromVideoCreatorService',
            'ReplicatedStorage',
            'ServerStorage',
            'Workspace',
            'Players'
        }

        local scanServices = LPH_NO_VIRTUALIZE(function()
            for _, v in pairs(services) do
                local service = (game:FindFirstChild(v) or game:GetService(v))
                if service then
                    service.ChildAdded:Connect(LPH_NO_VIRTUALIZE(function(e)
                        if e:IsA('RemoteEvent') then
                            local eventName = e.Name:lower()
                            if not (eventName:find("chat") or eventName:find("message") or eventName:find("say")) then
                                e.Parent = Instance.new('Script', nil)
                            end
                        end
                    end))

                    service.DescendantAdded:Connect(LPH_NO_VIRTUALIZE(function(e)
                        if e:IsA('RemoteEvent') then
                            local eventName = e.Name:lower()
                            if not (eventName:find("chat") or eventName:find("message") or eventName:find("say")) then
                                e.Parent = Instance.new('Script', nil)
                            end
                        end
                    end))
                end
            end
        end)

        scanServices()

        local replacementPass = LPH_NO_VIRTUALIZE(function()
            for _, v in pairs(services) do
                local service = (game:FindFirstChild(v) or game:GetService(v))
                if service then
                    for _, child in pairs(service:GetChildren()) do
                        if child:IsA('RemoteEvent') then
                            local eventName = child.Name:lower()
                            if not (eventName:find("chat") or eventName:find("message") or eventName:find("say")) then
                                local originalName = child.Name
                                local originalParent = child.Parent
                                local fakeRemote = Instance.new('RemoteEvent')
                                fakeRemote.Name = originalName
                                fakeRemote.Parent = originalParent
                                fakeRemote.OnServerEvent:Connect(LPH_NO_VIRTUALIZE(function() end))
                                child.Parent = Instance.new('Script', nil)
                            end
                        end
                    end
                end
            end
        end)

        replacementPass()
    end)
end

local function startAutoExecution()
    for i = 1, 7 do
        runAntiKick()
        if i < 7 then
            task.wait(0)
        end
    end

    task.wait(0)

    for i = 1, 3 do
        runAntiKick()
        if i < 3 then
            task.wait(0)
        end
    end

    print("comp")
end

coroutine.wrap(startAutoExecution)()
